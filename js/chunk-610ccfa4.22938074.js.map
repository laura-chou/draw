{"version":3,"sources":["webpack:///./src/views/Slot.vue?acb4","webpack:///src/views/Slot.vue","webpack:///./src/views/Slot.vue?826e","webpack:///./src/views/Slot.vue","webpack:///./src/views/Slot.vue?d9a2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","weight","prizes","blocks","slots","defaultStyle","defaultConfig","on","end","loading","startCallBack","_v","$event","reset","_e","staticRenderFns","data","exclude","borderRadius","padding","background","fontColor","fontWeight","fontSize","rowSpacing","colSpacing","computed","items","length","order1","order2","order3","order","direction","arr","index","fonts","text","top","lineClamp","window","innerWidth","width","methods","store","getters","checkedItem","$refs","SlotMachine","play","setTimeout","prize","audio","require","$swal","fire","html","then","router","shuffle","array","icon","title","showCancelButton","result","isConfirmed","component","VBtn"],"mappings":"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","file":"js/chunk-610ccfa4.22938074.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"slot d-flex align-center justify-center flex-column\"},[_c('SlotMachine',{ref:\"SlotMachine\",attrs:{\"width\":_vm.weight,\"height\":\"250px\",\"prizes\":_vm.prizes,\"blocks\":_vm.blocks,\"slots\":_vm.slots,\"defaultStyle\":_vm.defaultStyle,\"defaultConfig\":_vm.defaultConfig},on:{\"end\":_vm.end}}),_c('v-btn',{staticClass:\"ma-3\",attrs:{\"width\":_vm.weight,\"x-large\":\"\",\"color\":\"error\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.startCallBack}},[_vm._v(\" START \")]),(_vm.exclude)?_c('v-btn',{staticClass:\"reset\",attrs:{\"fab\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.reset()}}},[_c('font-awesome-icon',{staticClass:\"icon-size\",attrs:{\"icon\":['fa','rotate']}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"slot d-flex align-center justify-center flex-column\">\r\n    <SlotMachine\r\n        ref=\"SlotMachine\"\r\n        :width=\"weight\"\r\n        height=\"250px\"\r\n        :prizes=\"prizes\"\r\n        :blocks=\"blocks\"\r\n        :slots=\"slots\"\r\n        :defaultStyle=\"defaultStyle\"\r\n        :defaultConfig=\"defaultConfig\"\r\n        @end=\"end\"/>\r\n      <v-btn\r\n        class=\"ma-3\"\r\n        :width='weight'\r\n        x-large\r\n        color=\"error\"\r\n        :loading=\"loading\"\r\n        :disabled=\"loading\"\r\n        @click=\"startCallBack\"\r\n      >\r\n        START\r\n      </v-btn>\r\n      <v-btn v-if=\"exclude\" class=\"reset\" fab color=\"success\" @click=\"reset()\">\r\n        <font-awesome-icon class=\"icon-size\" :icon=\"['fa','rotate']\"></font-awesome-icon>\r\n      </v-btn>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\">\r\n  .slot {\r\n    height: 100%;\r\n    position: relative;\r\n    .reset {\r\n      position: absolute;\r\n      right: 3%;\r\n      bottom: 3%;\r\n      .icon-size {\r\n        font-size: 24px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<script>\r\nimport router from '../router/index.js'\r\nimport store from '../store/index.js'\r\nexport default ({\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      exclude: store.getters.exclude,\r\n      blocks: [\r\n        { borderRadius: '10px', padding: '10px', background: '#001E6C' },\r\n        { borderRadius: '30px', padding: '10px', background: '#F7F7F7' }\r\n      ],\r\n      defaultStyle: {\r\n        borderRadius: '30px',\r\n        fontColor: '#fff',\r\n        fontWeight: 700,\r\n        background: '#035397',\r\n        fontSize: '22px'\r\n      },\r\n      defaultConfig: {\r\n        rowSpacing: '15px',\r\n        colSpacing: '25px'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    slots () {\r\n      let order1 = []\r\n      let order2 = []\r\n      let order3 = []\r\n      const items = store.getters.checkedItem\r\n      if (items.length > 1) {\r\n        for (const key in items) {\r\n          order1.push(parseInt(key))\r\n          order2.push(parseInt(key))\r\n          order3.push(parseInt(key))\r\n        }\r\n      }\r\n      order1 = this.shuffle(order1)\r\n      order2 = this.shuffle(order2)\r\n      order3 = this.shuffle(order3)\r\n      const arr = [\r\n        { order: order1, direction: 1 },\r\n        { order: order2, direction: -1 },\r\n        { order: order3, direction: 1 }\r\n      ]\r\n      return arr\r\n    },\r\n    prizes () {\r\n      const arr = []\r\n      const items = store.getters.checkedItem\r\n      if (items.length > 1) {\r\n        for (const key in items) {\r\n          arr.push({\r\n            index: key,\r\n            fonts: [{\r\n              text: items[key].item,\r\n              top: '40%',\r\n              lineClamp: 2\r\n            }]\r\n          })\r\n        }\r\n      }\r\n      return arr\r\n    },\r\n    weight () {\r\n      let width = 600\r\n      if (window.innerWidth < 650) {\r\n        width = window.innerWidth - 40\r\n      }\r\n      return width + 'px'\r\n    }\r\n  },\r\n  methods: {\r\n    startCallBack () {\r\n      if (store.getters.checkedItem.length !== 0) {\r\n        this.loading = true\r\n        this.$refs.SlotMachine.play()\r\n        setTimeout(() => {\r\n          const index = Math.floor(Math.random() * this.prizes.length)\r\n          this.$refs.SlotMachine.stop([index, index, index])\r\n        }, 1000)\r\n      }\r\n    },\r\n    end (prize) {\r\n      const audio = new Audio()\r\n      audio.src = './alarms/bonus.mp3'\r\n      audio.play()\r\n      const html = `<div class='alert-border'>\r\n                      <img src='${require('../assets/winner.png')}' />\r\n                      <h1>${prize.fonts[0].text}</h1>\r\n                    </div>`\r\n      this.$swal.fire({\r\n        html: html\r\n      }).then((result) => {\r\n        store.commit('unChecked', prize.fonts[0].text)\r\n        store.commit('record', prize.fonts[0].text)\r\n        this.loading = false\r\n        if (store.getters.checkedItem.length < 2) {\r\n          router.push('/')\r\n        }\r\n      })\r\n    },\r\n    shuffle (array) {\r\n      for (let i = array.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [array[i], array[j]] = [array[j], array[i]]\r\n      }\r\n      return array\r\n    },\r\n    reset () {\r\n      this.$swal.fire({\r\n        icon: 'warning',\r\n        title: '確定要重置嗎？',\r\n        showCancelButton: true\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          store.commit('checkAll', true)\r\n        }\r\n      })\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Slot.vue?vue&type=template&id=4e89b11a&\"\nimport script from \"./Slot.vue?vue&type=script&lang=js&\"\nexport * from \"./Slot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Slot.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slot.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}